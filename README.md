
# BIOS 731 HW1 Reproducible Project

This project analyzes data from the **Wage dataset**, which contains detailed demographic and income information on U.S. male workers.
The goal of this project is to estimate the population mean annual wages for workers as a function of age and education class, adjusting for year and race.
---

## Data Description

The dataset includes each worker's annual wage along with demographic and labor-market characteristics such as age, year, education level, and race classification. 
---
## Project Directory Structure

### 1. `source/` Directory

This directory contains all R scripts used for data processing, modeling, visualization, and validation:

- **`00_clean_data.R`**  
  Cleans the original Wage dataset and saves the processed data as  
  `data/cleaned_Wage.RDS`.

- **`01_visualize.R`**  
  Performs exploratory data analysis (EDA) and generates descriptive plots, 
  which are saved as `.png` files under `results/figures/`.

- **`02_modelling.R`**  
  Fits a generalized additive model (GAM) to study the relationship between wage, age, education, and race, 
  and saves the fitted model object as `results/models/fit_gam.RDS`.

- **`03_validation.R`**  
  Performs model validation and visualization by comparing observed wages with fitted age–wage trends 
  across different education levels and racial groups. 
  The resulting plots are saved under `results/figures/`.

---

### 2. `results/` Directory

This directory stores all outputs generated by the analysis, including fitted models and figures.

#### `results/models/`
- **`fit_gam.RDS`**  
  The fitted generalized additive model produced by `02_modelling.R`, 
  which is later loaded for prediction and validation.

#### `results/figures/`
This folder contains all figures generated during EDA and model validation:

- **`fig1_wage_distribution.png`**  
  Histogram showing the distribution of wages.

- **`fig2_wage_vs_age_edu.png`**  
  Scatter plot of wage versus age, stratified by education level.

- **`age_wage_trends_white.png`**  
- **`age_wage_trends_black.png`**  
- **`age_wage_trends_asian.png`**  
  Observed wages and fitted age–wage trends by education level within each racial group.

- **`age_wage_trends_all_races.png`**  
  A combined visualization summarizing fitted age–wage trends across all racial groups.

---

### 3. `data/` Directory

- **`Wage.RDS`**  
  Original dataset containing annual wage and demographic information.

- **`cleaned_Wage.RDS`**  
  Cleaned dataset produced by `00_clean_data.R`, used in all downstream analyses.

---

### 4. `analysis/` Directory

- **`analysis_for_Wage.Rmd`**  
  The main reproducible analysis report that sources all scripts and generates the final document.

- **`analysis_for_Wage.html`**  
  The compiled HTML report produced from the R Markdown file.
---

### **3. Root Files (Located in `PAMAP2_Project/`)**

- **`README.md`** - This documentation file explaining the project structure and usage.

---

## Reproducible

Fork the repository and knit `analysis_for_Wage.Rmd`.
---

## SystemInfo

R version 4.4.2 (2024-10-31 ucrt)
Platform: x86_64-w64-mingw32/x64
Running under: Windows 11 x64 (build 26100)

Matrix products: default


locale:
[1] LC_COLLATE=Chinese (Simplified)_China.utf8 
[2] LC_CTYPE=C                                 
[3] LC_MONETARY=Chinese (Simplified)_China.utf8
[4] LC_NUMERIC=C                               
[5] LC_TIME=Chinese (Simplified)_China.utf8    

time zone: America/New_York
tzcode source: internal

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] mgcv_1.9-3    nlme_3.1-168  ggplot2_3.5.1 here_1.0.1   

loaded via a namespace (and not attached):
 [1] Matrix_1.7-3       gtable_0.3.6       dplyr_1.1.4        compiler_4.4.2    
 [5] crayon_1.5.3       tidyselect_1.2.1   splines_4.4.2      systemfonts_1.2.3 
 [9] scales_1.4.0       textshaping_1.0.1  yaml_2.3.10        fastmap_1.2.0     
[13] lattice_0.22-6     R6_2.6.1           labeling_0.4.3     generics_0.1.4    
[17] knitr_1.50         tibble_3.2.1       rprojroot_2.0.4    pillar_1.10.2     
[21] RColorBrewer_1.1-3 rlang_1.1.5        xfun_0.53          cli_3.6.3         
[25] withr_3.0.2        magrittr_2.0.3     digest_0.6.37      grid_4.4.2        
[29] rstudioapi_0.17.1  cowplot_1.1.3      lifecycle_1.0.4    vctrs_0.6.5       
[33] evaluate_1.0.4     glue_1.8.0         farver_2.1.2       ragg_1.4.0        
[37] rmarkdown_2.29     tools_4.4.2        pkgconfig_2.0.3    htmltools_0.5.8.1 
